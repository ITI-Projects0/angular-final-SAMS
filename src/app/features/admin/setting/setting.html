<section class="settings-wrapper">
  <!-- Header -->
  <header class="settings-header">
    <div>
      <h2 class="settings-title">Settings</h2>
      <p class="settings-subtitle">Update your profile, theme and password.</p>
    </div>

    <div class="pill-badge">
      <span class="dot"></span>
      Active
    </div>
  </header>

  <div class="settings-layout">
    <!-- Left column -->
    <div class="settings-column">
      <!-- Account -->
      <section class="settings-card">
        <div class="card-header">
          <h3>Account</h3>
          <p>Basic information about your profile.</p>
        </div>

        <div class="account-row">
          <div class="avatar-block">
            <div class="avatar">
              <img [src]="user.avatar" [alt]="user.name" />
            </div>
            <input #avatarInput type="file" accept="image/*" class="sr-only" (change)="onAvatarSelected($event)" />
            <button type="button" class="btn-secondary small upload-btn" (click)="avatarInput.click()">
              Change photo
            </button>
          </div>

          <div class="account-fields">
            <div class="field">
              <label>Name</label>
              <input type="text" [(ngModel)]="user.name" />
            </div>

            <div class="field">
              <label>Email</label>
              <input type="email" [ngModel]="user.email" readonly />
            </div>

            <div class="field">
              <label>Roles</label>
              <input type="text" [ngModel]="user.roles.join(', ')" readonly />
            </div>

            <div class="actions-right">
              <button type="button" class="btn-primary" (click)="saveAccount()">Save account</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Security -->
      <section class="settings-card">
        <div class="card-header">
          <h3>Security</h3>
          <p>Control password and extra protection.</p>
        </div>

        <div class="field-inline">
          <div>
            <p class="toggle-title">Password</p>
            <p class="toggle-sub">Change your account password.</p>
          </div>
        </div>

        <div class="field">
          <label>New password</label>
          <input type="password" [(ngModel)]="password.new" />
        </div>

        <div class="field">
          <label>Confirm password</label>
          <input type="password" [(ngModel)]="password.confirm" />
        </div>

        <div class="actions-right">
          <button type="button" class="btn-primary" (click)="changePassword()">Update password</button>
        </div>
      </section>
    </div>

    <!-- Right column -->
    <div class="settings-column">
      <!-- Preferences -->
      <section class="settings-card">
        <div class="card-header">
          <h3>Preferences</h3>
          <p>Control appearance and layout.</p>
        </div>

        <div class="field">
          <label>Theme</label>
          <select [(ngModel)]="preferences.theme" (ngModelChange)="onThemeChange($event)">
            <option value="light">Light</option>
            <option value="dark">Dark</option>
          </select>
        </div>
      </section>
    </div>
  </div>
</section>
