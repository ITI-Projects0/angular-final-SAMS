<div class="flex-1 px-4 sm:px-0 mt-10">

  <!-- ðŸ” Search + Add -->
  <div class="flex justify-between mb-6">
    <input type="text" placeholder="Search groups..." class="search-input" [(ngModel)]="searchText"
      (input)="search()" />

    <button class="add-btn" (click)="openForm()">
      + Create Group
    </button>
  </div>

  <!-- GROUP CARDS -->
  <div class="grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
    <div *ngFor="let g of filteredGroups" class="card-item cursor-pointer"
      [routerLink]="['/dashboard/staff/groups', g.id]">

      <img class="w-20 h-20 object-cover rounded-full" [src]="g.img" />

      <h4 class="text-xl font-semibold">{{ g.name }}</h4>
      <p class="text-gray-600">{{ g.category }}</p>
      <p class="text-gray-500 text-sm">{{ g.description }}</p>

      <div class="mt-2 text-gray-400 text-xs">
        {{ g.members }} Members â€” {{ g.online }} Online
      </div>

      <div class="mt-3 flex gap-3">
        <button class="btn-edit" (click)="openForm(g)">Edit</button>
        <button class="btn-delete" (click)="deleteGroup(g.name)">Delete</button>
      </div>

    </div>
  </div>

</div>

<!-- OVERLAY -->
<div class="overlay" [class.open]="isFormOpen" (click)="closeForm()"></div>

<!-- SIDE FORM -->
<div class="side-panel" [class.open]="isFormOpen" (click)="$event.stopPropagation()">

  <div class="panel-header">
    <h3>{{ isEditMode ? 'Edit Group' : 'Create Group' }}</h3>
    <button class="close-btn" (click)="closeForm()">âœ•</button>
  </div>

  <form (ngSubmit)="saveGroup()" class="space-y-4 panel-body">

    <div>
      <label class="label">Group Name</label>
      <input type="text" class="input" [(ngModel)]="newGroup.name" name="name" required />
    </div>

    <div>
      <label class="label">Category</label>
      <input type="text" class="input" [(ngModel)]="newGroup.category" name="category" />
    </div>

    <div>
      <label class="label">Description</label>
      <textarea rows="3" class="input" [(ngModel)]="newGroup.description" name="description"></textarea>
    </div>

    <button type="submit" class="btn-save">
      {{ isEditMode ? 'Save Changes' : 'Create Group' }}
    </button>

  </form>
</div>
