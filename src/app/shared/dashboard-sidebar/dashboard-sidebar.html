<aside class="sidebar" [class.collapsed]="collapsed">

  <!-- Brand -->
  <div class="brand">
    <div class="brand-mark">
      <svg viewBox="0 0 44 44">
        <defs>
          <linearGradient id="waveGradientSidebar" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#14B8A6;stop-opacity:1" />
            <stop offset="50%" style="stop-color:#3B82F6;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#2563EB;stop-opacity:1" />
          </linearGradient>
        </defs>
        <circle cx="22" cy="22" r="22" fill="url(#waveGradientSidebar)" />
        <path d="M0,22 Q11,8 22,14 T44,22" fill="none" stroke="#0D9488" stroke-width="3" opacity="0.8" />
        <path d="M0,30 Q11,16 22,22 T44,30" fill="none" stroke="#1E40AF" stroke-width="3" opacity="0.8" />
      </svg>
    </div>
    @if (!collapsed) {
    <div class="brand-text">
      <span class="brand-sub">{{ brandName }}</span>
      <span class="brand-title">Workspace</span>
    </div>
    }
  </div>

  <!-- Navigation -->
  <div class="nav-wrapper">
    <nav class="nav-main">
      @for (item of menuItems; track item.route) {
      <a class="nav-link" [class.highlight]="item.highlight" [routerLink]="item.route" routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: item.exact ?? false }">

        <!-- Icons -->
        @switch (item.icon) {
        @case ('dashboard') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M4 12h16M4 12V8a2 2 0 0 1 2-2h2m-4 6v4a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-4m-6-6h2a2 2 0 0 1 2 2v4M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
        </svg>
        }
        @case ('students') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 14c3.866 0 7 3.134 7 7H5c0-3.866 3.134-7 7-7Z" />
          <path d="M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" />
        </svg>
        }
        @case ('parents') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 21a4 4 0 0 0-8 0" />
          <circle cx="10" cy="8" r="4" />
          <path d="M16 11h3a2 2 0 0 1 2 2v2" />
          <path d="M21 21a3 3 0 0 0-6 0" />
        </svg>
        }
        @case ('centers') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 21h18" />
          <path d="M5 21V7l8-4v18" />
          <path d="M19 21V11l-6-4" />
          <path d="M9 9v.01M9 12v.01M9 15v.01M9 18v.01" />
        </svg>
        }
        @case ('pending') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10" />
          <path d="M12 6v6l4 2" />
        </svg>
        }
        @case ('courses') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="m12 3 9 4.5v9L12 21 3 16.5v-9L12 3Z" />
        </svg>
        }
        @case ('teachers') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 0c4.142 0 7.5 2.91 7.5 6.5V21H4.5v-2.5C4.5 14.91 7.858 12 12 12Z" />
        </svg>
        }
        @case ('contact') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 5h18v14H3z" />
          <path d="m3 7 9 6 9-6" />
        </svg>
        }
        @case ('groups') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M17 20h5v-2a3 3 0 0 0-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 0 1 5.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 0 1 9.288 0" />
        </svg>
        }
        @case ('team') {
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" />
          <path d="M12 14c-3.866 0-7 3.134-7 7h14c0-3.866-3.134-7-7-7Z" />
        </svg>
        }
        }

        @if (!collapsed) {
        <span class="nav-label">{{ item.label }}</span>
        }
      </a>
      }
    </nav>

    <!-- Bottom Section -->
    <div class="nav-footer">
      <a class="nav-link" [routerLink]="settingsRoute" routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
          <path
            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.1a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.1a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09A1.65 1.65 0 0 0 9.9 3.1V3a2 2 0 0 1 4 0v.1a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.1a1.65 1.65 0 0 0-1.51 1Z" />
        </svg>
        @if (!collapsed) {
        <span class="nav-label">Settings</span>
        }
      </a>

      <button type="button" class="nav-link logout" (click)="logout()">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="m15 18 6-6-6-6M21 12H9" />
          <path d="M13 5H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8" />
        </svg>
        @if (!collapsed) {
        <span class="nav-label">Logout</span>
        }
      </button>
    </div>
  </div>
</aside>